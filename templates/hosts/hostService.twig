{% extends "core.twig" %}
{% block title %}{{ _('Service') }} {{ service.name }}{% endblock %}
{% block contentHeader %}
        {{ _('Service') }}
        <small>{{ service.name }}</small>
{% endblock %}
{% block scripts %}
<script>
chart = wdServiceChart().baseUrl("{{ path_for('apiService', { 'id': service.id }) }}");
d3.select('section.content').call(
	wdUnion().item(wdRow()
		 .cell('col-lg-8', wdTableWidget().source("{{ path_for('widgets.table.serv.process',  { 'id': service.id }) }}"))
		 .cell('col-lg-4', wdTableWidget().source("{{ path_for('widgets.table.serv.sockets',  { 'id': service.id }) }}"))
	).item(wdBox().title("{{ _('Availability') }}")
			.tool(wdDropButton().text('Period')
				.item("{{ _('All') }}", 'chart.setPeriod("all")')
				.item("{{ _('Last month') }}", 'chart.setPeriod("month")')
				.item("{{ _('Last week') }}", 'chart.setPeriod("week")')
				.item("{{ _('Yesterday') }}", 'chart.setPeriod("yesterday")')
				.item("{{ _('Today') }}", 'chart.setPeriod("today")')
				.item("{{ _('Last hour') }}", 'chart.setPeriod("hour")')
			).body(chart)
));
</script>
{% endblock %}
