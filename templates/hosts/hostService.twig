{% extends "core.twig" %}
{% block title %}{{ _('Service') }} {{ service.name }}{% endblock %}
{% block contentHeader %}
        {{ _('Service') }}
        <small>{{ service.name }}</small>
{% endblock %}
{% block scripts %}
<script>
chart = wd.chart.service().baseUrl("{{ path_for('apiService', { 'id': service.id }) }}");
d3.select('section.content').call(
	bs.union().item(bs.row()
		 .cell('col-lg-8', widget.table().source("{{ path_for('widgets.table.serv.process',  { 'id': service.id }) }}"))
		 .cell('col-lg-4', widget.table().source("{{ path_for('widgets.table.serv.sockets',  { 'id': service.id }) }}"))
	).item(bs.box().title("{{ _('Availability') }}")
			.tool(bs.dropdown().text('Period')
				.item("{{ _('All') }}", 'chart.setPeriod("all")')
				.item("{{ _('Last month') }}", 'chart.setPeriod("month")')
				.item("{{ _('Last week') }}", 'chart.setPeriod("week")')
				.item("{{ _('Yesterday') }}", 'chart.setPeriod("yesterday")')
				.item("{{ _('Today') }}", 'chart.setPeriod("today")')
				.item("{{ _('Last hour') }}", 'chart.setPeriod("hour")')
			).body(chart)
));
</script>
{% endblock %}
