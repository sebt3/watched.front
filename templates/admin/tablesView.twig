
{% extends "core.twig" %}
{% block title %}{{ _('Tables') }}{% endblock %}
{% block contentHeader %}
        {{ _('Tables') }}
        <small>{{ name }}</small>
{% endblock %}
{% block scripts %}
<script>
d3.select('section.content').call(wdRow()
	  .cell('col-md-4', wdBox().title("{{ _('Storage informations') }}").body(wdDescTable()
    {% for s in sizes %}
		.item("{{ _(s.name) }}",{{ s.value }})
    {% endfor %}
	)).cell('col-md-8',wdForm().url("{{ path_for('admin.tables.edit', {'name': name }) }}").body(
	wdBox().title("{{ _('Configure data aggregate and purges') }}").body(
		wdUnion().item(wdPanel().title("{{ _('Aggregation delays') }}").body(
			wdUnion().item(wdFormGroup('delay_am').label("{{ _('For minuts aggregate') }}")
				.value("{{config.delay_am}}","{{ _('Minuts') }}").add("{{ _('minuts') }}")
			)	.item(wdFormGroup('delay_ah').label("{{ _('For hours aggregate') }}")
				.value("{{config.delay_ah}}","{{ _('Hours') }}").add("{{ _('hours') }}")
			)	.item(wdFormGroup('delay_ad').label("{{ _('For days aggregate') }}")
				.value("{{config.delay_ad}}","{{ _('Days') }}").add("{{ _('days') }}")
			)
		)).item(wdPanel().title("{{ _('Data retention') }}").body(
			wdUnion().item(wdFormGroup('retention_d').label("{{ _('For detailed data') }}")
				.value("{{config.retention_d}}","{{ _('Days') }}").add("{{ _('days') }}")
			)	.item(wdFormGroup('retention_am').label("{{ _('For minuts aggregate') }}")
				.value("{{config.retention_am}}","{{ _('Days') }}").add("{{ _('days') }}")
			)	.item(wdFormGroup('retention_ah').label("{{ _('For hours aggregate') }}")
				.value("{{config.retention_ah}}","{{ _('Days') }}").add("{{ _('days') }}")
			)	.item(wdFormGroup('retention_ad').label("{{ _('For days aggregate') }}")
				.value("{{config.retention_ad}}","{{ _('Days') }}").add("{{ _('days') }}")
			)
		))
	).footer(
		wdButtonGroup()
			.left(wdAButton().text("{{ _('Cancel') }}").icon("fa fa-arrow-left").url("{{ path_for('admin.tables') }}"))
{% if isDefault %}
			.right(wdAButton().text("{{ _('Revert to default') }}").icon("fa fa-minus").class('btn-warning').url("{{ path_for('admin.tables.del', {'name': name }) }}"))
{% endif %}
			.right(wdButton().text("{{ _('update') }}").icon("fa fa-pencil").class('btn-info'))
	)
)));
</script>
{% endblock %}
